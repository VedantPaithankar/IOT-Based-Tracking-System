#ifndef _ASCPUTOP_H_
#define _ASCPUTOP_H_

#include "../asProcPack.h"
#include <systemc.h>
#include "asCPUFunc.h"
#include "asCPUBPI.h"

template<class T, class U>
SC_MODULE(asCPUTop)
{
  public:
    /*-------------------------------------------------------------------------
    -- Ports
    -------------------------------------------------------------------------*/
    /*-------------------------------------------------------------------------
    -- Constructor
    -------------------------------------------------------------------------*/
    //SC_CTOR(asCPUTop);
    asCPUTop(sc_module_name nm, const unsigned int ID);
    /*-------------------------------------------------------------------------
    -- FIFOs/Signals
    -------------------------------------------------------------------------*/
    sc_event masterDataReadEvent_e;
    /*-------------------------------------------------------------------------
    -- Hierarchy
    -------------------------------------------------------------------------*/
    asCPUBPI<T>*      mbpi;
  private:
    /*-------------------------------------------------------------------------
    -- FIFOs/Signals
    -------------------------------------------------------------------------*/
    /*-------------------------------------------------------------------------
    -- Events
    -------------------------------------------------------------------------*/
    /*-------------------------------------------------------------------------
    -- Methods/Threads
    -------------------------------------------------------------------------*/
    /*-------------------------------------------------------------------------
    -- Constants/Variables/Functions
    -------------------------------------------------------------------------*/
    const unsigned int asID;                   //!< target ID
    /*-------------------------------------------------------------------------
    -- Hierarchy
    -------------------------------------------------------------------------*/
    //dataGen              dgen;  // So ....     ; Stack allocation
    asCPUFunc<T,U>*     mcpu;
};
#endif
